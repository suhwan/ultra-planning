---
phase: 02-core-planning
plan: 06
type: execute
wave: 5
depends_on: ["02-04", "02-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "End-to-end planning workflow functions correctly"
    - "/ultraplan:new-project command invokes planner"
    - "Planner conducts interview with single questions"
    - "Documents are generated after interview"
    - "Approval gate prevents premature execution"
  artifacts: []
  key_links:
    - from: ".claude/commands/ultraplan-new-project.md"
      to: ".claude/agents/ultraplan-planner.md"
      via: "Task invocation spawns planner"
      pattern: "Task.*ultraplan-planner"
---

<objective>
Verify the complete Phase 2 implementation through human testing.

Purpose: Validate that all components work together - command invokes planner, planner interviews user, documents are generated, and approval gate functions correctly.

Output: Verification that Phase 2 success criteria are met
</objective>

<execution_context>
@/home/ubuntu/.claude/get-shit-done/workflows/execute-plan.md
@/home/ubuntu/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-planning/02-04-SUMMARY.md
@.planning/phases/02-core-planning/02-05-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Phase 2 planner system:
1. Planner agent at .claude/agents/ultraplan-planner.md
2. Command entry at .claude/commands/ultraplan-new-project.md
3. Updated SKILL.md with command references
  </what-built>
  <how-to-verify>
**Test 1: File Existence**
```bash
ls -la .claude/agents/ultraplan-planner.md
ls -la .claude/commands/ultraplan-new-project.md
```

**Test 2: Planner Structure**
Verify the planner has all required sections:
```bash
grep -E "PHASE [1-4]:" .claude/agents/ultraplan-planner.md
grep "CRITICAL IDENTITY" .claude/agents/ultraplan-planner.md
grep "Single Question" .claude/agents/ultraplan-planner.md
grep "Goal-Backward" .claude/agents/ultraplan-planner.md
grep "NEVER proceed" .claude/agents/ultraplan-planner.md
```

**Test 3: Command Integration**
Verify command references planner:
```bash
grep "ultraplan-planner" .claude/commands/ultraplan-new-project.md
```

**Test 4: Functional Test (Manual)**
In a new Claude Code session:
1. Run `/ultraplan:new-project`
2. Verify planner asks ONE question at a time
3. Answer 3-4 questions
4. Say "make the plan"
5. Verify documents are generated (PROJECT.md, ROADMAP.md)
6. Verify summary is displayed
7. Verify approval is required (not automatic proceed)
8. Say "approved"
9. Verify next steps guidance appears

**Expected Behavior:**
- Interview should feel natural, not robotic
- Questions should build on previous answers
- Documents should reflect interview answers
- Approval gate should be explicit
  </how-to-verify>
  <resume-signal>
After testing, respond with:
- "approved" - All tests pass, Phase 2 complete
- "issues: {description}" - Describe what needs fixing
  </resume-signal>
</task>

</tasks>

<verification>
This plan IS the verification for Phase 2.

Success criteria from ROADMAP.md:
1. [ ] Planner agent (Opus) generates PROJECT.md from user description
2. [ ] Planner agent decomposes project into phases in ROADMAP.md
3. [ ] Planner agent generates PLAN.md with task breakdowns for each phase
4. [ ] User can review and approve generated documents before proceeding

Note: Criterion 3 (PLAN.md generation) is for phase planning, which the planner
documents how to do. Actual PLAN.md generation is triggered by /ultraplan:plan-phase.
</verification>

<success_criteria>
- [ ] All file existence tests pass
- [ ] Planner has all required sections
- [ ] Command references planner correctly
- [ ] Functional test demonstrates working interview
- [ ] Documents are generated from interview
- [ ] Approval gate prevents automatic proceeding
- [ ] Next steps guidance appears after approval
</success_criteria>

<output>
After approval, create `.planning/phases/02-core-planning/02-06-SUMMARY.md` with:
- Test results
- Any issues found and how resolved
- Confirmation that Phase 2 is complete
</output>
