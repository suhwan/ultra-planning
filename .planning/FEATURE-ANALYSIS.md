# Ultra Planner ê¸°ëŠ¥ ë¶„ì„

## ê°œìš”

GSD, OMC, OpenCode, Claude Code ê¸°ë³¸ ê¸°ëŠ¥ì„ ë¹„êµ ë¶„ì„í•˜ì—¬ Ultra Planner v1/v2ì—ì„œ ì‚¬ìš©í•  ê¸°ëŠ¥ì„ ì„ ë³„í•¨.

**ì›ì¹™: ê°€ì¥ ì¢‹ì€ ê²ƒ ì„ íƒ (êµ¬í˜„ í•„ìš”í•´ë„ OK)**

---

## 4ê°œ ì†ŒìŠ¤ ê¸°ëŠ¥ ë¹„êµ

### 1. ê³„íš ìƒì„± (Planning)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| ì¸í„°ë·° â†’ ê³„íš | âœ… Planner | âœ… plan skill | âœ… Prometheus | âŒ | **GSD** (ê°€ì¥ ì²´ê³„ì ) |
| PROJECT.md | âœ… í…œí”Œë¦¿ | âŒ | âŒ | âŒ | **GSD** |
| ROADMAP.md | âœ… í…œí”Œë¦¿ | âŒ | âŒ | âŒ | **GSD** |
| PLAN.md | âœ… í…œí”Œë¦¿ | âŒ | âŒ | âŒ | **GSD** |
| ralplan ê²€ì¦ | âœ… ìˆìŒ | âœ… ralplan skill | âŒ | âŒ | **OMC** (ë” ì •êµ) |

### 2. ê³„íš ê²€ì¦ (Verification)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| Architect ê²€ì¦ | âœ… ì—ì´ì „íŠ¸ | âœ… ì—ì´ì „íŠ¸ | âœ… Atlas | âŒ | **OMC** |
| Critic ë¦¬ë·° | âœ… ìˆìŒ | âœ… critic skill | âŒ | âŒ | **OMC** |
| ê²€ì¦ ë£¨í”„ | âœ… 3íšŒ | âœ… ë¬´ì œí•œ | âœ… ìˆìŒ | âŒ | **OMC** (ë” ìœ ì—°) |

### 3. íƒœìŠ¤í¬ ê´€ë¦¬ (Task Management)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| íƒœìŠ¤í¬ ìƒì„± | ğŸ“„ PLAN.md | ğŸ“„ íŒŒì¼ | ğŸ“„ íŒŒì¼ | âœ… **TaskCreate** | **Claude Code** (ë„¤ì´í‹°ë¸Œ) |
| íƒœìŠ¤í¬ ìƒíƒœ | ğŸ“„ ìˆ˜ë™ | ğŸ“„ ìˆ˜ë™ | ğŸ“„ ìˆ˜ë™ | âœ… **TaskUpdate** | **Claude Code** (ë„¤ì´í‹°ë¸Œ) |
| íƒœìŠ¤í¬ ëª©ë¡ | ğŸ“„ íŒŒì¼ ì½ê¸° | ğŸ“„ íŒŒì¼ | ğŸ“„ íŒŒì¼ | âœ… **TaskList** | **Claude Code** (ë„¤ì´í‹°ë¸Œ) |
| ì˜ì¡´ì„± ê´€ë¦¬ | âœ… wave | âŒ | âŒ | âœ… blockedBy | **ë‘˜ ë‹¤** (GSD wave + Claude blockedBy) |

### 4. ì‹¤í–‰ (Execution)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| Fresh Subagent | âœ… íŒ¨í„´ | âœ… ìˆìŒ | âœ… ìˆìŒ | âœ… **Task()** | **Claude Code** (GSD íŒ¨í„´ ì ìš©) |
| ë³‘ë ¬ ì‹¤í–‰ | âŒ ìˆœì°¨ë§Œ | âœ… **Ultrapilot 5** | âŒ | âœ… ë³‘ë ¬ Task() | **OMC** (5ì›Œì»¤ ê´€ë¦¬) |
| Atomic Commit | âœ… ìˆìŒ | âœ… ìˆìŒ | âŒ | âŒ | **GSD** (ë” ì—„ê²©) |
| íŒŒì¼ ì†Œìœ ê¶Œ | âŒ | âœ… ìˆìŒ | âŒ | âŒ | **OMC** |

### 5. ë°˜ë³µ/ì™„ë£Œ (Loop & Completion)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| ì™„ë£Œê¹Œì§€ ë°˜ë³µ | âœ… ê²€ì¦ ë£¨í”„ | âœ… Ralph Loop | âœ… **Ralph** | âŒ | **OpenCode** (ë” ì •êµ) |
| ì™„ë£Œ ê°ì§€ | âœ… ì²´í¬ë°•ìŠ¤ | âœ… `<promise>` | âœ… `<promise>` + API | âŒ | **OpenCode** |
| ì—ëŸ¬ ë³µêµ¬ | âŒ | âŒ | âœ… **isRecovering** | âŒ | **OpenCode** |
| ì„¸ì…˜/ëª¨ë¸ ìœ ì§€ | âŒ | âŒ | âœ… ìˆìŒ | âŒ | **OpenCode** |

### 6. ìì—°ì–´ ì¸í„°í˜ì´ìŠ¤ (Natural Language)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| í‚¤ì›Œë“œ ê°ì§€ | âŒ | âœ… **magic-keywords** | âœ… keyword-detector | âŒ | **OMC** |
| ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ | âœ… /gsd:* | âœ… /oh-my-claudecode:* | âœ… ìˆìŒ | âœ… ê¸°ë³¸ | **OMC íŒ¨í„´** |
| autopilot ëª¨ë“œ | âŒ | âœ… **autopilot** | âŒ | âŒ | **OMC** |

### 7. ìƒíƒœ ê´€ë¦¬ (State Management)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| ìƒíƒœ íŒŒì¼ | âœ… STATE.md | âœ… .omc/state/ | âœ… .sisyphus/ | âŒ | **OMC** (JSON ë” ì²´ê³„ì ) |
| ëª¨ë“œ ê´€ë¦¬ | âŒ | âœ… **mode-registry** | âœ… ìˆìŒ | âŒ | **OMC** |
| ì„¸ì…˜ ë³µêµ¬ | âŒ | âœ… session-start | âœ… ìˆìŒ | âŒ | **OMC** |

### 8. ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ (v2)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| ì»¨í…ìŠ¤íŠ¸ ëª¨ë‹ˆí„° | âŒ | âŒ | âœ… **context-window-monitor** | âŒ | **OpenCode** (v2) |
| ìë™ ë³µêµ¬ | âŒ | âŒ | âœ… **limit-recovery** | âŒ | **OpenCode** (v2) |
| ë™ì  ë¶„í•  | âŒ | âŒ | âœ… Atlas íŒ¨í„´ | âŒ | **OpenCode** (v2) |

### 9. ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ê°•ì œ (Orchestrator Enforcement)

| ê¸°ëŠ¥ | GSD | OMC | OpenCode | Claude Code | ì„ íƒ |
|------|-----|-----|----------|-------------|------|
| ì§ì ‘ ìˆ˜ì • ê¸ˆì§€ | âŒ | âœ… CLAUDE.md | âœ… **Atlas í›…** | âŒ | **OpenCode** (í›…ì´ ë” ê°•ë ¥) |
| Single Task ê°•ì œ | âŒ | âŒ | âœ… **Atlas** | âŒ | **OpenCode** |
| ê²€ì¦ ë¦¬ë§ˆì¸ë” | âŒ | âœ… ìˆìŒ | âœ… **Atlas** | âŒ | **OpenCode** (ë” ìƒì„¸) |

---

## ìµœì¢… ì„ íƒ ìš”ì•½ (ìµœê³  íš¨ìœ¨)

| ì¹´í…Œê³ ë¦¬ | ì„ íƒ | ì´ìœ  | êµ¬í˜„ í•„ìš” |
|----------|------|------|-----------|
| **ê³„íš ìƒì„±** | GSD | ë¬¸ì„œ ì²´ê³„ ê°€ì¥ ì²´ê³„ì  | âŒ í˜¸ì¶œ |
| **ê³„íš ê²€ì¦** | OMC | ralplanì´ ê°€ì¥ ì •êµ | âŒ í˜¸ì¶œ |
| **íƒœìŠ¤í¬ ê´€ë¦¬** | Claude Code | ë„¤ì´í‹°ë¸Œ API | âŒ ê¸°ë³¸ |
| **ë³‘ë ¬ ì‹¤í–‰** | OMC | Ultrapilot 5ì›Œì»¤ + íŒŒì¼ ì†Œìœ ê¶Œ | âŒ í˜¸ì¶œ |
| **ë°˜ë³µ ë£¨í”„** | **OpenCode** | ì—ëŸ¬ ë³µêµ¬, ì„¸ì…˜ ê´€ë¦¬ ë” ì •êµ | âœ… ì¬êµ¬í˜„ |
| **í‚¤ì›Œë“œ ê°ì§€** | OMC | ì´ë¯¸ ì™„ì„±ë¨ | âŒ í˜¸ì¶œ |
| **ìƒíƒœ ê´€ë¦¬** | OMC | mode-registryê°€ ì²´ê³„ì  | âŒ í˜¸ì¶œ |
| **ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ê°•ì œ** | **OpenCode** | Atlas íŒ¨í„´ì´ ê°€ì¥ ê°•ë ¥ | âœ… ì¬êµ¬í˜„ |
| **ì»¨í…ìŠ¤íŠ¸** | **OpenCode** | ìœ ì¼í•˜ê²Œ ìˆìŒ | âœ… ì¬êµ¬í˜„ (v2) |

---

## ê¸°ëŠ¥ ê°„ ìƒíƒœ ê³µìœ  ì•„í‚¤í…ì²˜

### ì™œ í•„ìš”í•œê°€?

```
Context Monitorê°€ 70% ê°ì§€ â†’ Orchestratorì—ê²Œ ì•Œë¦¼ â†’ íƒœìŠ¤í¬ ë¶„í•  íŠ¸ë¦¬ê±°
Ralph Loopê°€ ì™„ë£Œ ê°ì§€ â†’ Tasks API ìƒíƒœ ì—…ë°ì´íŠ¸
Ultrapilot ì›Œì»¤ë“¤ì´ íŒŒì¼ ì†Œìœ ê¶Œ ê³µìœ 
```

**ê¸°ëŠ¥ë“¤ì´ ì„œë¡œ í†µì‹ í•´ì•¼ í•¨**

### Claude Code í™˜ê²½ì˜ ì œì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Claude Code ì‹¤í–‰ í™˜ê²½                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ë©”ì¸ ì„¸ì…˜ (í”„ë¡œì„¸ìŠ¤ A)                                     â”‚
â”‚       â”‚                                                     â”‚
â”‚       â”œâ”€â”€ í›… ì‹¤í–‰ (í”„ë¡œì„¸ìŠ¤ B) â† ë³„ë„ í”„ë¡œì„¸ìŠ¤!             â”‚
â”‚       â”‚                                                     â”‚
â”‚       â”œâ”€â”€ Task() ì„œë¸Œì—ì´ì „íŠ¸ (ì„¸ì…˜ C) â† ë³„ë„ ì„¸ì…˜!         â”‚
â”‚       â”‚                                                     â”‚
â”‚       â””â”€â”€ Task() ì„œë¸Œì—ì´ì „íŠ¸ (ì„¸ì…˜ D) â† ë³„ë„ ì„¸ì…˜!         â”‚
â”‚                                                             â”‚
â”‚  âŒ ë©”ëª¨ë¦¬ ê³µìœ  ë¶ˆê°€ëŠ¥                                      â”‚
â”‚  âœ… íŒŒì¼ ì‹œìŠ¤í…œì€ ê³µìœ ë¨                                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìƒíƒœ ê³µìœ  ë°©ì‹: íŒŒì¼ ê¸°ë°˜ (OMC mode-registry íŒ¨í„´)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 .ultraplan/state/                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  orchestrator-state.json     â† ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ìƒíƒœ          â”‚
â”‚  â”œâ”€â”€ active_mode: "ultrapilot"                              â”‚
â”‚  â”œâ”€â”€ current_phase: 1                                       â”‚
â”‚  â”œâ”€â”€ current_plan: "01-01"                                  â”‚
â”‚  â””â”€â”€ events: [...]                                          â”‚
â”‚                                                             â”‚
â”‚  ralph-state.json            â† Ralph Loop ìƒíƒœ              â”‚
â”‚  â”œâ”€â”€ active: true                                           â”‚
â”‚  â”œâ”€â”€ iteration: 3                                           â”‚
â”‚  â”œâ”€â”€ session_id: "ses_xxx"                                  â”‚
â”‚  â””â”€â”€ completion_promise: "TASK_COMPLETE"                    â”‚
â”‚                                                             â”‚
â”‚  ultrapilot-state.json       â† Ultrapilot ìƒíƒœ              â”‚
â”‚  â”œâ”€â”€ active: true                                           â”‚
â”‚  â”œâ”€â”€ workers: [...]                                         â”‚
â”‚  â””â”€â”€ file_ownership: {...}                                  â”‚
â”‚                                                             â”‚
â”‚  context-monitor.json        â† ì»¨í…ìŠ¤íŠ¸ ëª¨ë‹ˆí„° (v2)         â”‚
â”‚  â”œâ”€â”€ usage_percent: 0.72                                    â”‚
â”‚  â”œâ”€â”€ warning_issued: true                                   â”‚
â”‚  â””â”€â”€ last_check: "2026-01-26T..."                           â”‚
â”‚                                                             â”‚
â”‚  events.jsonl                â† ì´ë²¤íŠ¸ ë¡œê·¸ (append-only)    â”‚
â”‚  {"type": "CONTEXT_HIGH", "payload": {...}, "ts": "..."}    â”‚
â”‚  {"type": "TASK_COMPLETED", "payload": {...}, "ts": "..."}  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì´ë²¤íŠ¸ í†µì‹  íŒ¨í„´

```typescript
// ì´ë²¤íŠ¸ ë°œí–‰ (ì–´ë–¤ ê¸°ëŠ¥ì´ë“ )
function emitEvent(type: string, payload: object) {
  const event = { type, payload, ts: new Date().toISOString() };
  fs.appendFileSync('.ultraplan/state/events.jsonl', JSON.stringify(event) + '\n');
}

// ì´ë²¤íŠ¸ êµ¬ë… (Orchestratorê°€ í´ë§)
function pollEvents(lastTs: string): Event[] {
  const lines = fs.readFileSync('.ultraplan/state/events.jsonl', 'utf-8').split('\n');
  return lines
    .filter(Boolean)
    .map(JSON.parse)
    .filter(e => e.ts > lastTs);
}
```

### ìƒíƒœ ì½ê¸°/ì“°ê¸° íŒ¨í„´

```typescript
// ìƒíƒœ ì½ê¸° (ë½ ì—†ì´ - ì½ê¸°ëŠ” í•­ìƒ ì•ˆì „)
function readState(name: string): State | null {
  const path = `.ultraplan/state/${name}.json`;
  if (!fs.existsSync(path)) return null;
  return JSON.parse(fs.readFileSync(path, 'utf-8'));
}

// ìƒíƒœ ì“°ê¸° (atomic writeë¡œ corruption ë°©ì§€)
function writeState(name: string, state: State): void {
  const path = `.ultraplan/state/${name}.json`;
  const tempPath = `${path}.tmp`;
  fs.writeFileSync(tempPath, JSON.stringify(state, null, 2));
  fs.renameSync(tempPath, path);  // atomic rename
}
```

### ê¸°ëŠ¥ ê°„ í†µì‹  ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Context Monitorê°€ 70% ê°ì§€                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ emitEvent("CONTEXT_HIGH", { usage: 0.72 })
         â”‚ â†’ events.jsonlì— ê¸°ë¡
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Orchestratorê°€ ì´ë²¤íŠ¸ í´ë§                                  â”‚
â”‚ â†’ "CONTEXT_HIGH" ê°ì§€                                       â”‚
â”‚ â†’ íƒœìŠ¤í¬ ë¶„í•  ë¡œì§ íŠ¸ë¦¬ê±°                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ writeState("orchestrator-state", { splitting: true })
         â”‚ TaskUpdate(task, { status: "paused" })
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task Decomposer ì‹¤í–‰                                        â”‚
â”‚ â†’ ì²´í¬í¬ì¸íŠ¸ ì €ì¥                                           â”‚
â”‚ â†’ ì„œë¸ŒíƒœìŠ¤í¬ ìƒì„±                                           â”‚
â”‚ â†’ emitEvent("TASK_SPLIT", { original, subtasks })          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Claude Tasks APIì™€ì˜ í†µí•©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒíƒœ ì†ŒìŠ¤ ì—­í•  ë¶„ë‹´                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Claude Tasks API                                           â”‚
â”‚  â”œâ”€â”€ íƒœìŠ¤í¬ ëª©ë¡ (TaskList)                                 â”‚
â”‚  â”œâ”€â”€ íƒœìŠ¤í¬ ìƒíƒœ (pending/in_progress/completed)           â”‚
â”‚  â””â”€â”€ íƒœìŠ¤í¬ ì˜ì¡´ì„± (blockedBy)                              â”‚
â”‚                                                             â”‚
â”‚  .ultraplan/state/*.json                                    â”‚
â”‚  â”œâ”€â”€ ëª¨ë“œ ìƒíƒœ (ultrapilot, ralph ë“±)                       â”‚
â”‚  â”œâ”€â”€ ì»¨í…ìŠ¤íŠ¸ ì‚¬ìš©ëŸ‰                                        â”‚
â”‚  â”œâ”€â”€ íŒŒì¼ ì†Œìœ ê¶Œ                                            â”‚
â”‚  â””â”€â”€ ì´ë²¤íŠ¸ ë¡œê·¸                                            â”‚
â”‚                                                             â”‚
â”‚  PLAN.md                                                    â”‚
â”‚  â”œâ”€â”€ ì›ë³¸ ê³„íš (source of truth)                            â”‚
â”‚  â””â”€â”€ íƒœìŠ¤í¬ ì •ì˜                                            â”‚
â”‚                                                             â”‚
â”‚  â†’ ë™ê¸°í™”: PLAN.md â†” Tasks API â†” state/*.json              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## v1 êµ¬ì„±

### ìƒˆë¡œ ë§Œë“¤ì–´ì•¼ í•  ê²ƒ

| ê¸°ëŠ¥ | ì°¸ì¡° | ì„¤ëª… | êµ¬í˜„ |
|------|------|------|------|
| **Orchestrator ì½”ì–´** | ìƒˆë¡œ | ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ, ê¸°ëŠ¥ ì—°ê²° | âœ… |
| **ìƒíƒœ ê³µìœ  ì‹œìŠ¤í…œ** | OMC mode-registry | íŒŒì¼ ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬ | âœ… |
| **Ralph Loop ê°œì„ ** | OpenCode | ì—ëŸ¬ ë³µêµ¬, ì„¸ì…˜ API, ëª¨ë¸ ìœ ì§€ | âœ… |
| **ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ê°•ì œ** | OpenCode Atlas | ì§ì ‘ ìˆ˜ì • ê¸ˆì§€, Single Task | âœ… |
| **Claude Tasks ë™ê¸°í™”** | ìƒˆë¡œ | PLAN.md â†” Tasks API | âœ… |
| **CLI ì»¤ë§¨ë“œ** | ìƒˆë¡œ | /ultraplan:* | âœ… |

### ê·¸ëŒ€ë¡œ í˜¸ì¶œí•˜ë©´ ë˜ëŠ” ê²ƒ

| ê¸°ëŠ¥ | ì¶œì²˜ | ìœ„ì¹˜ |
|------|------|------|
| Planner ì—ì´ì „íŠ¸ | GSD | `agents/gsd-planner.md` |
| ë¬¸ì„œ í…œí”Œë¦¿ | GSD | `templates/*.md` |
| Atomic Commit | GSD | íŒ¨í„´ |
| ralplan ê²€ì¦ | OMC | skill |
| Ultrapilot 5ì›Œì»¤ | OMC | `commands/ultrapilot.md` |
| í‚¤ì›Œë“œ ê°ì§€ | OMC | `src/features/magic-keywords.ts` |
| mode-registry | OMC | `src/hooks/mode-registry/` |
| Architect/Critic | OMC | agents |
| Tasks API | Claude Code | ê¸°ë³¸ ì œê³µ |
| Task() í˜¸ì¶œ | Claude Code | ê¸°ë³¸ ì œê³µ |

---

## v2 êµ¬ì„± (OpenCode ì°¸ì¡° â†’ ì¬êµ¬í˜„)

| ê¸°ëŠ¥ | ì°¸ì¡° ìœ„ì¹˜ | ì„¤ëª… |
|------|----------|------|
| Context Monitor | `src/hooks/context-window-monitor.ts` | 70% ê²½ê³  |
| Context Recovery | `src/hooks/anthropic-context-window-limit-recovery/` | ìë™ ë³µêµ¬ |
| ë™ì  íƒœìŠ¤í¬ ë¶„í•  | Atlas íŒ¨í„´ | ì»¨í…ìŠ¤íŠ¸ ì´ˆê³¼ ì‹œ ë¶„í•  |
| Comment Checker | `src/hooks/comment-checker/` | TODO/FIXME ê°ì§€ |

---

## ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ULTRA PLANNER v1                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ORCHESTRATOR (ìƒˆë¡œ ë§Œë“¦)                â”‚   â”‚
â”‚  â”‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ Event       â”‚  â”‚ State       â”‚  â”‚ Tasks       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ System      â”‚  â”‚ Manager     â”‚  â”‚ Sync        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ events.jsonlâ”‚  â”‚ *.json      â”‚  â”‚ PLANâ†”Tasks  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚         â”‚                â”‚                â”‚        â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚                          â”‚                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚                              â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚         â”‚                   â”‚                   â”‚         â”‚
â”‚         â–¼                   â–¼                   â–¼         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ GSD         â”‚     â”‚ OMC         â”‚     â”‚ OpenCode    â”‚ â”‚
â”‚  â”‚ (í˜¸ì¶œ)      â”‚     â”‚ (í˜¸ì¶œ)      â”‚     â”‚ (ì¬êµ¬í˜„)    â”‚ â”‚
â”‚  â”‚             â”‚     â”‚             â”‚     â”‚             â”‚ â”‚
â”‚  â”‚ -Planner    â”‚     â”‚ -ralplan    â”‚     â”‚ -Ralph Loop â”‚ â”‚
â”‚  â”‚ -í…œí”Œë¦¿     â”‚     â”‚ -Ultrapilot â”‚     â”‚ -Atlas ê°•ì œ â”‚ â”‚
â”‚  â”‚ -Atomic     â”‚     â”‚ -Keywords   â”‚     â”‚             â”‚ â”‚
â”‚  â”‚  Commit     â”‚     â”‚ -mode-reg   â”‚     â”‚             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Claude Code (ê¸°ë³¸ ì œê³µ)                 â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  Tasks API (TaskCreate/Update/List)                 â”‚  â”‚
â”‚  â”‚  Task() ì„œë¸Œì—ì´ì „íŠ¸                                 â”‚  â”‚
â”‚  â”‚  í›… ì‹œìŠ¤í…œ                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    v2 ì¶”ê°€ (OpenCode ì°¸ì¡° â†’ ì¬êµ¬í˜„)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Context Monitor â”‚ Context Recovery â”‚ ë™ì  íƒœìŠ¤í¬ ë¶„í•     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*ìƒì„±ì¼: 2026-01-26*
*ë²„ì „: v1 ìŠ¤ì½”í”„ ì •ì˜ (ìµœê³  íš¨ìœ¨ ì„ íƒ)*
*ì—…ë°ì´íŠ¸: ê¸°ëŠ¥ ê°„ ìƒíƒœ ê³µìœ  ì•„í‚¤í…ì²˜ ì¶”ê°€*
